2021-02-17



###### 쉬프트 연산(<<, >>)



내가 쉬프트 연산을 접했던 거는 아마 처음 C언어를 배웠을 때와 java 라이브러리를 까서 분석할 때 봤던 것이 전부였다.

내가 아는 지식 내에서는 그냥 쉬프트 연산이 일반적인 연산보다 빨라서 쓴다 정도만 알고 있었고, 그 때 당시의 나는 어차피 속도 차이는 별로 안나고 비슷할 텐데 좀 더 직관적이게 이해 가능한 연산식이 좋다 생각되서 그 이후로는 써본적도, 본 적도 없는 연산이었다.



그런데 여기서 다른 쓰임새를 보게 되었는데 enum에 쉬프트를 적용해서 쓰는 모습이었다. 

아마 이전에 타입의 조합에 따라 스킬의 종류가 바뀌는 이야기를 했었는데 거기에 해당하는 해결책인 것 같았다.



확실한 내용은 아니지만 내 수학적 배경으로 인한 추측으로는 enum에 쉬프트를 적용하여 2의 제곱으로 만들고 이때 이 숫자들을 합쳤을 때 (ex: 64 + 2, 32 +16)  나오는 숫자들을 다시 원래 상태로 분리가 가능해서 그런게 아닐까 싶다. 아마 이 이유같긴 한데 나중에 틀리면 다시 쓰면 되겠지.



(가령 66의 경우 제일 큰 2의 제곱을 찾고 (64) 뺀 다음 다시 제일 큰 2의 제곱을 찾아(2) 0이 될 때 까지 반복하면 되기 때문)





###### 필터링



내가 필터링 관련되서 로직을 짜게 되었는데, 여기서 고민은 시간 복잡도와 공간 복잡도에 대한 고민이었다.

워낙 조건이 많이 걸려있어서 하나의 리스트로는 정렬이 힘든 상황. 혹은 많은 연산이 필요한 상황이었다.



그래서 그냥 종류 만큼(ex: 무기, 아머, 엑세서리,활성화, 비활성화) 리스트를 만들어서 필터링 작업을 하는 중인데 이게 맞는 방법인지는 모르겠다.



만약 pc처럼 충분한 상황이면 이게 맞는 방법 같기는 한데 모바일 환경은 아무래도 메모리가 작으니까 말이다.



하지만 뭐 리스트가 얼마나 하겠어 라는 생각도 드는데. 내 생각은 시간보다는 공간을 쓰는게 맞는 방법인거 같다. 학교에서도 그렇게 배웠으니까.

